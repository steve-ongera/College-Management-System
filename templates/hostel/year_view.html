<!-- templates/hostel/year_view.html -->
{% extends 'admin_base.html' %}

{% block title %}Hostels - {{ academic_year.year }}{% endblock %}

{% block content %}
<div class="container">
    <h1>Hostels for Academic Year {{ academic_year.year }}</h1>
    
    <nav>
        <a href="{% url 'overview' %}">‚Üê Back to Overview</a>
    </nav>
    
    <h2>Hostel Statistics</h2>
    <table border="1" cellpadding="5" cellspacing="0">
        <thead>
            <tr>
                <th>Hostel Name</th>
                <th>Type</th>
                <th>Total Bookings</th>
                <th>Approved Bookings</th>
                <th>Pending Bookings</th>
                <th>Available Beds</th>
                <th>Occupied Beds</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for data in hostel_data %}
            <tr>
                <td>{{ data.hostel.name }}</td>
                <td>{{ data.hostel.get_hostel_type_display }}</td>
                <td>{{ data.total_bookings }}</td>
                <td>{{ data.approved_bookings }}</td>
                <td>{{ data.pending_bookings }}</td>
                <td>{{ data.available_beds }}</td>
                <td>{{ data.occupied_beds }}</td>
                <td>
                    <a href="{% url 'rooms_view' data.hostel.id academic_year.id %}">
                        View Rooms
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    {% if not hostel_data %}
    <p>No hostels found for this academic year.</p>
    {% endif %}
</div>
{% endblock %}